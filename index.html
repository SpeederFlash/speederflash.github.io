<!DOCTYPE html>
  <html>
    <head><meta content="text/html;charset=utf-8" http-equiv="Content-Type"><meta content="utf-8" http-equiv="encoding"><link rel = "stylesheet" href = "style.css"></head>
    <body>
      <video autoplay muted loop id="stars">
        <source src="vid/Background_08.mov">
      </video>
      <p1>
        <div>
          <script>
            console.log("v1.7");
            function createRoom() {
              var url_str = window.location.href;
              url_str = url_str.substring(0,(url_str.length-10));
              url_str += "create.html";
              var url = new URL(url_str);
              window.location.href = url;
            }
            function signaling_server_ip() {
              console.log("hereh");
              const ip = document.getElementById("ipInput").value;
              var ipArray;
              var ipPort = 0;
              try{
                ipPort = parseInt(ip.split(":")[1]);
                ipArray = [];
                ipArray.push(parseInt(ip.split(":")[0].split(".")[0]));
                ipArray.push(parseInt(ip.split(":")[0].split(".")[1]));
                ipArray.push(parseInt(ip.split(":")[0].split(".")[2]));
                ipArray.push(parseInt(ip.split(":")[0].split(".")[3]));
              }
              catch(err) {
                document.getElementById("errHandler").innerHTML = err.message;
              }
              if(ipArray.length != 4 || ipPort == 0 || isNaN(ipArray[0]) || isNaN(ipArray[1]) || isNaN(ipArray[2]) || isNaN(ipArray[3])){
                document.getElementById("ipInput").value = "Please Enter An IP";
              }
              else{
                localStorage["signaling_server_ip"] = ip;
                var url = new URL(window.location.href);
                url = new URL("/room.html", url);
                window.location.href = url;
              }
            }
          </script>
        </div>
        <div class = "pctop40">
          <button onclick="signaling_server_ip()">Enter IP</button>
        </div>
        <div class = "pctop33">
          <input id="ipInput" class="prettyinput" value="Enter a Signaling Server IP"></input>
        </div>
        <div class = "pcbot33">
          <button onclick="createRoom()">Create Room</button>
        </div>
      </p1>
    </body>
  </html>
